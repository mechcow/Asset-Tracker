<% if current_user.has_role?("admin") -%>
<%= button_function :container => 'new_location_container', :text_shown => 'Add', :text_hidden => "Add", :class => 'new_button' %>
<% end -%>


<div class="explanation">
	<h1><%= @title = 'Locations.'%></h1>
	<p>A "location" represents a physical place, such as "Headquarters", "Server Room" or "Home". Individual assets get tied to a single location and person.</p>
</div>


<div id="new_location_container" style="display:none">
  <div>
    <%= error_div_for @location %>
    <% remote_form_for @location do |f| %>
		<%= render :partial => 'locations/fields', :locals => {:f => f}%>
		<%= button_submit %>
	<% end %>
  </div>
</div>


<h2>Everywhere assets could be.</h2>

<table>
	<thead>
  <tr>
	<td>Name</td>
  <td>Timezone</td>
  <td>DNS</td>
	<td>Assets</td>
	<td>Actions</td>
  </tr>
</thead>
<tbody id="locations">
<% for location in @locations %>
	<%= render :partial => 'locations/row', :locals => {:location => location} %>
<% end %>
</tbody>
</table>

<p class="count">You have <%= pluralize @locations.size, 'location' %>.</p>
