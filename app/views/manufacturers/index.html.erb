<% if current_user.has_role?("admin") -%>
<%= button_function :container => 'new_manufacturer_container', :text_shown => 'Add', :text_hidden => "Add", :class => 'new_button' %>
<% end -%>

<div class="explanation">
	<h1><%= @title = 'Manufacturers.'%></h1>
	<p>A "manufacturer" is a company that produces equipment, such as "Apple" or "Cisco".</p>
</div>


<div id="new_manufacturer_container" style="display:none">
  <div>
    <% remote_form_for @manufacturer do |f| %>
		<%= render :partial => 'manufacturers/fields', :locals => {:f => f}%>
		<%= button_submit %>
	<% end %>
  </div>
</div>

<h2>All equipment manufacturers.</h2>

<table>
	<thead>
  <tr>
	<td>Name</td>
	<td>Models</td>
	<td>Actions</td>
  </tr>
</thead>
<tbody id="manufacturers">
<% for manufacturer in @manufacturers %>
	<%= render :partial => 'manufacturers/row', :locals => {:manufacturer => manufacturer} %>
<% end %>
</tbody>
</table>

<p class="count">You have <%= pluralize @manufacturers.size, 'manufacturer' %>.</p>
